{% extends 'baseMembers.html' %} 
{% load static %}

{% block title %}Painel Geral{% endblock %} 

{% block css %}
<link rel="stylesheet" href="{% static 'css/home.css' %}">
<link rel="stylesheet" href="{% static 'css/newPost.css' %}">
<link rel="stylesheet" href="{% static 'css/bottom-sheet.css' %}">
{% endblock %}

{% block content %}
    <div class="mainHome">
        <div class="centralCentralHome">
            <div class="centralHome">
                <div class="centerPanel">
                    <div class="miniHero">
                        <div class="greeting">
                            <p id="subTextGreeting">Que bom tê-lo aqui, <b>{{ user.first_name_display }}</b>!</p>
                            <p id="textGreeting">Conecte-se, organize-se e <b>seja o melhor da Mamutes</b> conosco.</p>
                        </div>
                        <div id="imageHero">
                            <img class="img" src="{% static 'img/mamutes_todoazul.png' %}" alt="Erro ao carregar imagem">
                        </div>
                    </div>
                    <button class="show-modal">
                        <div class="calendarIcon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="22" viewBox="0 0 20 22" fill="none">
                                <path d="M1.25 8.25H18.75M5.361 3.75V1.75M14.611 3.75V1.75M15.25 3.75H4.75C3.82174 3.75 2.9315 4.11875 2.27513 4.77513C1.61875 5.4315 1.25 6.32174 1.25 7.25V16.75C1.25 17.6783 1.61875 18.5685 2.27513 19.2249C2.9315 19.8813 3.82174 20.25 4.75 20.25H15.25C16.1783 20.25 17.0685 19.8813 17.7249 19.2249C18.3813 18.5685 18.75 17.6783 18.75 16.75V7.25C18.75 6.32174 18.3813 5.4315 17.7249 4.77513C17.0685 4.11875 16.1783 3.75 15.25 3.75Z" stroke="#0075F6" stroke-width="2.0625" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <p class="textMyAgenda">Minha agenda</p>
                    </button>
                    <div class="actions">
                        <a href="#" class="action">
                            <div class="greetingIcon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
                                    <path d="M4.50138 7.19791H6.30086C6.53949 7.19791 6.76834 7.10312 6.93707 6.93439C7.1058 6.76565 7.2006 6.5368 7.2006 6.29817C7.2006 6.05955 7.1058 5.8307 6.93707 5.66196C6.76834 5.49323 6.53949 5.39843 6.30086 5.39843H4.50138C4.26276 5.39843 4.0339 5.49323 3.86517 5.66196C3.69644 5.8307 3.60164 6.05955 3.60164 6.29817C3.60164 6.5368 3.69644 6.76565 3.86517 6.93439C4.0339 7.10312 4.26276 7.19791 4.50138 7.19791ZM17.0977 1.79948H9.89982V0.899739C9.89982 0.661114 9.80502 0.432261 9.63629 0.263527C9.46756 0.0947936 9.2387 0 9.00008 0C8.76145 0 8.5326 0.0947936 8.36387 0.263527C8.19513 0.432261 8.10034 0.661114 8.10034 0.899739V1.79948H0.902425C0.663799 1.79948 0.434947 1.89427 0.266213 2.06301C0.0974792 2.23174 0.00268555 2.46059 0.00268555 2.69922V11.6966C0.00268555 12.4125 0.287067 13.099 0.793268 13.6052C1.29947 14.1114 1.98603 14.3958 2.7019 14.3958H6.83171L4.76231 16.4562C4.67797 16.5399 4.61104 16.6394 4.56536 16.749C4.51968 16.8587 4.49616 16.9763 4.49616 17.095C4.49616 17.2138 4.51968 17.3314 4.56536 17.4411C4.61104 17.5507 4.67797 17.6502 4.76231 17.7339C4.84595 17.8182 4.94546 17.8851 5.0551 17.9308C5.16474 17.9765 5.28234 18 5.40112 18C5.5199 18 5.6375 17.9765 5.74714 17.9308C5.85678 17.8851 5.95629 17.8182 6.03994 17.7339L8.10034 15.6645V17.095C8.10034 17.3337 8.19513 17.5625 8.36387 17.7313C8.5326 17.9 8.76145 17.9948 9.00008 17.9948C9.2387 17.9948 9.46756 17.9 9.63629 17.7313C9.80502 17.5625 9.89982 17.3337 9.89982 17.095V15.6645L11.9602 17.7339C12.0439 17.8182 12.1434 17.8851 12.253 17.9308C12.3627 17.9765 12.4803 18 12.599 18C12.7178 18 12.8354 17.9765 12.9451 17.9308C13.0547 17.8851 13.1542 17.8182 13.2378 17.7339C13.3222 17.6502 13.3891 17.5507 13.4348 17.4411C13.4805 17.3314 13.504 17.2138 13.504 17.095C13.504 16.9763 13.4805 16.8587 13.4348 16.749C13.3891 16.6394 13.3222 16.5399 13.2378 16.4562L11.1684 14.3958H15.2983C16.0141 14.3958 16.7007 14.1114 17.2069 13.6052C17.7131 13.099 17.9975 12.4125 17.9975 11.6966V2.69922C17.9975 2.46059 17.9027 2.23174 17.7339 2.06301C17.5652 1.89427 17.3364 1.79948 17.0977 1.79948ZM16.198 11.6966C16.198 11.9352 16.1032 12.1641 15.9345 12.3328C15.7657 12.5016 15.5369 12.5963 15.2983 12.5963H2.7019C2.46328 12.5963 2.23443 12.5016 2.06569 12.3328C1.89696 12.1641 1.80216 11.9352 1.80216 11.6966V3.59896H16.198V11.6966ZM4.50138 10.7969H9.89982C10.1384 10.7969 10.3673 10.7021 10.536 10.5333C10.7048 10.3646 10.7996 10.1358 10.7996 9.89713C10.7996 9.6585 10.7048 9.42965 10.536 9.26092C10.3673 9.09219 10.1384 8.99739 9.89982 8.99739H4.50138C4.26276 8.99739 4.0339 9.09219 3.86517 9.26092C3.69644 9.42965 3.60164 9.6585 3.60164 9.89713C3.60164 10.1358 3.69644 10.3646 3.86517 10.5333C4.0339 10.7021 4.26276 10.7969 4.50138 10.7969Z" fill="#0075F6"/>
                                </svg>
                            </div>
                            <p class="textContent">Visualizar reuniões</p>
                        </a>
                        <a href="{% url 'members' %}" class="action">
                            <div class="greetingIcon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="16" viewBox="0 0 20 16" fill="none">
                                    <path d="M5.33629 1.36706C5.38859 1.31477 5.43007 1.25268 5.45837 1.18435C5.48668 1.11602 5.50124 1.04279 5.50124 0.968828C5.50124 0.894869 5.48668 0.821634 5.45837 0.753305C5.43007 0.684976 5.38859 0.62289 5.33629 0.570594C5.28399 0.518297 5.22191 0.476813 5.15358 0.44851C5.08525 0.420207 5.01201 0.40564 4.93805 0.40564C4.8641 0.40564 4.79086 0.420207 4.72253 0.44851C4.6542 0.476813 4.59212 0.518297 4.53982 0.570594L2.68814 2.4234L1.96142 1.69555C1.8558 1.58993 1.71256 1.5306 1.56319 1.5306C1.41382 1.5306 1.27057 1.58993 1.16495 1.69555C1.05934 1.80117 1 1.94442 1 2.09378C1 2.16774 1.01457 2.24098 1.04287 2.30931C1.07117 2.37764 1.11266 2.43972 1.16495 2.49202L2.28991 3.61697C2.34216 3.66936 2.40423 3.71091 2.47256 3.73927C2.5409 3.76763 2.61416 3.78222 2.68814 3.78222C2.76213 3.78222 2.83539 3.76763 2.90372 3.73927C2.97206 3.71091 3.03413 3.66936 3.08638 3.61697L5.33629 1.36706ZM8.59416 1.53131C8.37039 1.53131 8.15579 1.6202 7.99756 1.77842C7.83934 1.93665 7.75044 2.15125 7.75044 2.37502C7.75044 2.59879 7.83934 2.81339 7.99756 2.97162C8.15579 3.12985 8.37039 3.21874 8.59416 3.21874H18.1563C18.3801 3.21874 18.5947 3.12985 18.7529 2.97162C18.9111 2.81339 19 2.59879 19 2.37502C19 2.15125 18.9111 1.93665 18.7529 1.77842C18.5947 1.6202 18.3801 1.53131 18.1563 1.53131H8.59416ZM8.59416 7.15608C8.37039 7.15608 8.15579 7.24498 7.99756 7.4032C7.83934 7.56143 7.75044 7.77603 7.75044 7.9998C7.75044 8.22357 7.83934 8.43817 7.99756 8.5964C8.15579 8.75463 8.37039 8.84352 8.59416 8.84352H18.1563C18.3801 8.84352 18.5947 8.75463 18.7529 8.5964C18.9111 8.43817 19 8.22357 19 7.9998C19 7.77603 18.9111 7.56143 18.7529 7.4032C18.5947 7.24498 18.3801 7.15608 18.1563 7.15608H8.59416ZM7.75044 13.6246C7.75044 13.4008 7.83934 13.1862 7.99756 13.028C8.15579 12.8698 8.37039 12.7809 8.59416 12.7809H18.1563C18.3801 12.7809 18.5947 12.8698 18.7529 13.028C18.9111 13.1862 19 13.4008 19 13.6246C19 13.8483 18.9111 14.0629 18.7529 14.2212C18.5947 14.3794 18.3801 14.4683 18.1563 14.4683H8.59416C8.37039 14.4683 8.15579 14.3794 7.99756 14.2212C7.83934 14.0629 7.75044 13.8483 7.75044 13.6246ZM5.33629 7.55432C5.44191 7.4487 5.50124 7.30545 5.50124 7.15608C5.50124 7.00672 5.44191 6.86347 5.33629 6.75785C5.23067 6.65223 5.08742 6.5929 4.93805 6.5929C4.78869 6.5929 4.64544 6.65223 4.53982 6.75785L2.68814 8.61065L1.96142 7.88281C1.8558 7.77719 1.71256 7.71785 1.56319 7.71785C1.41382 7.71785 1.27057 7.77719 1.16495 7.88281C1.05934 7.98842 1 8.13167 1 8.28104C1 8.43041 1.05934 8.57366 1.16495 8.67927L2.28991 9.80423C2.34216 9.85661 2.40423 9.89817 2.47256 9.92653C2.5409 9.95488 2.61416 9.96948 2.68814 9.96948C2.76213 9.96948 2.83539 9.95488 2.90372 9.92653C2.97206 9.89817 3.03413 9.85661 3.08638 9.80423L5.33629 7.55432ZM5.33629 12.3826C5.38867 12.4349 5.43023 12.4969 5.45859 12.5653C5.48694 12.6336 5.50154 12.7069 5.50154 12.7809C5.50154 12.8548 5.48694 12.9281 5.45859 12.9964C5.43023 13.0648 5.38867 13.1268 5.33629 13.1791L3.08638 15.429C3.03413 15.4814 2.97206 15.5229 2.90372 15.5513C2.83539 15.5797 2.76213 15.5943 2.68814 15.5943C2.61416 15.5943 2.5409 15.5797 2.47256 15.5513C2.40423 15.5229 2.34216 15.4814 2.28991 15.429L1.16495 14.3041C1.05934 14.1984 1 14.0552 1 13.9058C1 13.7564 1.05934 13.6132 1.16495 13.5076C1.27057 13.402 1.41382 13.3426 1.56319 13.3426C1.71256 13.3426 1.8558 13.402 1.96142 13.5076L2.68814 14.2354L4.53982 12.3826C4.59207 12.3302 4.65414 12.2887 4.72248 12.2603C4.79081 12.232 4.86407 12.2174 4.93805 12.2174C5.01204 12.2174 5.0853 12.232 5.15363 12.2603C5.22197 12.2887 5.28404 12.3302 5.33629 12.3826Z" fill="#0075F6" stroke="#0075F6" stroke-width="0.45"/>
                                </svg>
                            </div>
                            <p class="textContent">Gerenciar tarefas</p>
                        </a>
                        <a href="{% url 'stock' %}" class="action">
                            <div class="greetingIcon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                    <path d="M17.65 6.175L14.25 7.875M14.25 7.875L13.825 8.0875L10 10M14.25 7.875V10.85M14.25 7.875L6.175 3.625M10 10L2.35 6.175M10 10V18.075M13.0413 2.6747L14.7413 3.5672C16.5696 4.52685 17.4843 5.00625 17.9926 5.869C18.5 6.7309 18.5 7.80445 18.5 9.9507V10.0502C18.5 12.1956 18.5 13.2691 17.9926 14.131C17.4843 14.9938 16.5696 15.474 14.7413 16.4337L13.0413 17.3253C11.5487 18.1082 10.8024 18.5 10 18.5C9.1976 18.5 8.4513 18.109 6.9587 17.3253L5.2587 16.4328C3.43035 15.4732 2.51575 14.9938 2.00745 14.131C1.5 13.2691 1.5 12.1956 1.5 10.051V9.95155C1.5 7.8053 1.5 6.73175 2.00745 5.86985C2.51575 5.0071 3.43035 4.52685 5.2587 3.56805L6.9587 2.67555C8.4513 1.89185 9.1976 1.5 10 1.5C10.8024 1.5 11.5487 1.891 13.0413 2.6747Z" stroke="#0075F6" stroke-width="1.7" stroke-linecap="round"/>
                                </svg>
                            </div>
                            <p class="textContent">Visualizar estoque</p>
                        </a>
                    </div>
                </div>
                <div class="addTabs">
                    <div class="centerTabs">
                        <div class="tab">
                            <p id="all" class="tabContent active" onclick="selectWord(this)" data-filter="all">Tudo</p>
                        </div>
                        <div class="tab">
                            <p id="announcement" class="tabContent" onclick="selectWord(this)" data-filter="announcement">Avisos</p>
                        </div>
                        <div class="tab">
                            <p id="event" class="tabContent" onclick="selectWord(this)" data-filter="event">Eventos</p>
                        </div>
                    </div>
                    <div id="btnModal" class="addButton">
                        <div id="boxIcon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">
                                <path d="M11.1429 6.85714H6.85714V11.1429C6.85714 11.3702 6.76684 11.5882 6.60609 11.7489C6.44535 11.9097 6.22733 12 6 12C5.77267 12 5.55465 11.9097 5.39391 11.7489C5.23316 11.5882 5.14286 11.3702 5.14286 11.1429V6.85714H0.857143C0.629814 6.85714 0.411797 6.76684 0.251051 6.60609C0.090306 6.44535 0 6.22733 0 6C0 5.77267 0.090306 5.55465 0.251051 5.39391C0.411797 5.23316 0.629814 5.14286 0.857143 5.14286H5.14286V0.857143C5.14286 0.629814 5.23316 0.411797 5.39391 0.251051C5.55465 0.0903056 5.77267 0 6 0C6.22733 0 6.44535 0.0903056 6.60609 0.251051C6.76684 0.411797 6.85714 0.629814 6.85714 0.857143V5.14286H11.1429C11.3702 5.14286 11.5882 5.23316 11.7489 5.39391C11.9097 5.55465 12 5.77267 12 6C12 6.22733 11.9097 6.44535 11.7489 6.60609C11.5882 6.76684 11.3702 6.85714 11.1429 6.85714Z" fill="#D7EAFF"/>
                            </svg>
                        </div>
                        <p id="textbtnModal">Novo</p>
                    </div>
                </div>
                {% if announcements or all_events %}
                    {% include 'partials/_all.html' %}
                {% else %}
                <div class="nothingToShow" id="nothingToShow" style="display: flex;">
                        <path d="M8.36 15.33C8.15844 15.4993 8.03176 15.7412 8.00742 16.0033C7.98308 16.2654 8.06306 16.5265 8.23 16.73C8.31395 16.8313 8.41705 16.915 8.5334 16.9763C8.64975 17.0377 8.77706 17.0755 8.90803 17.0875C9.03901 17.0996 9.17108 17.0857 9.29669 17.0467C9.42229 17.0076 9.53896 16.9442 9.64 16.86C10.3085 16.321 11.1413 16.0271 12 16.0271C12.8587 16.0271 13.6915 16.321 14.36 16.86C14.5399 17.0091 14.7664 17.0905 15 17.09C15.2036 17.088 15.4017 17.0239 15.5679 16.9063C15.734 16.7887 15.8604 16.6231 15.9299 16.4318C15.9995 16.2405 16.009 16.0325 15.9572 15.8356C15.9054 15.6387 15.7947 15.4623 15.64 15.33C14.6081 14.5006 13.3239 14.0484 12 14.0484C10.6761 14.0484 9.39188 14.5006 8.36 15.33ZM9.21 10.54C9.39737 10.7263 9.65082 10.8308 9.915 10.8308C10.1792 10.8308 10.4326 10.7263 10.62 10.54C10.8063 10.3526 10.9108 10.0992 10.9108 9.835C10.9108 9.57081 10.8063 9.31736 10.62 9.13C10.0477 8.58699 9.2889 8.28428 8.5 8.28428C7.71111 8.28428 6.95228 8.58699 6.38 9.13C6.27532 9.21965 6.1903 9.32997 6.13028 9.45403C6.07026 9.57809 6.03653 9.71323 6.03121 9.85095C6.02589 9.98867 6.04909 10.126 6.09937 10.2543C6.14964 10.3826 6.2259 10.4992 6.32335 10.5967C6.42081 10.6941 6.53736 10.7704 6.66568 10.8206C6.79401 10.8709 6.93134 10.8941 7.06906 10.8888C7.20678 10.8835 7.34191 10.8497 7.46597 10.7897C7.59004 10.7297 7.70036 10.6447 7.79 10.54C7.88297 10.4463 7.99357 10.3719 8.11543 10.3211C8.23729 10.2703 8.36799 10.2442 8.5 10.2442C8.63202 10.2442 8.76272 10.2703 8.88458 10.3211C9.00644 10.3719 9.11704 10.4463 9.21 10.54ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20ZM17.62 9.13C17.0477 8.58699 16.2889 8.28428 15.5 8.28428C14.7111 8.28428 13.9523 8.58699 13.38 9.13C13.2162 9.3213 13.1306 9.56738 13.1403 9.81905C13.15 10.0707 13.2543 10.3095 13.4324 10.4876C13.6105 10.6657 13.8493 10.77 14.101 10.7797C14.3526 10.7894 14.5987 10.7038 14.79 10.54C14.883 10.4463 14.9936 10.3719 15.1154 10.3211C15.2373 10.2703 15.368 10.2442 15.5 10.2442C15.632 10.2442 15.7627 10.2703 15.8846 10.3211C16.0064 10.3719 16.117 10.4463 16.21 10.54C16.3974 10.7263 16.6508 10.8308 16.915 10.8308C17.1792 10.8308 17.4326 10.7263 17.62 10.54C17.8063 10.3526 17.9108 10.0992 17.9108 9.835C17.9108 9.57081 17.8063 9.31736 17.62 9.13Z" fill="#0075F6"/>
                    </svg>
                    <p id="textNoAnnouncement">Nada a ser exibido aqui.</p>
                </div>
                {% endif %}
            </div>
        </div>
        <div class="calendarDiv">
            <div class="calendarHome">
                {% include 'partials/_calendar.html' %}
            </div>
        </div>
        {% include 'newPost.html' %}
        
        <div class="bottom-sheet">
            <div class="sheet-overlay"></div>
            <div class="content">
                <div class="header">
                    <div class="drag-icon"><span></span></div>
                </div>
                <div class="body">
                    <div class="calendarOrigin" style="display: flex; flex-direction: column; width: 100%; max-width: 600px; gap: 16px;">
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        function moverDiv() {
            var titleMyAgenda = document.querySelector('.centerMyAgenda');
            var calendarHome = document.querySelector('.calendarHome');
            var novoLugar = document.querySelector('.bottom-sheet .body > div');
            var larguraTela = window.innerWidth;
    
            if (titleMyAgenda) {
                // Se a tela for menor que 768px, move a div.titleMyAgenda para o novo lugar
                if (larguraTela < 768) {
                    if (novoLugar && !novoLugar.contains(titleMyAgenda)) {
                        novoLugar.appendChild(titleMyAgenda);
                    }
                } else {
                    // Se a tela for maior ou igual a 768px, move de volta para a posição original
                    if (calendarHome && !calendarHome.contains(titleMyAgenda)) {
                        calendarHome.appendChild(titleMyAgenda);
                    }
                }
            }
        }
    
        // Chama a função ao carregar a página e sempre que a tela for redimensionada
        window.addEventListener('load', moverDiv);
        window.addEventListener('resize', moverDiv);
    </script>
      
      
    <script src="{% static 'scripts/scriptMembers.js' %}"></script>
    <script src="{% static 'scripts/bottomSheet.js' %}"></script>
{% endblock %}