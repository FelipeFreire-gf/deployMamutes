<!-- templates/card.html -->
{% load static %}
<link rel="stylesheet" href="{%static 'css/card.css'%}">
<div class="card btnModalViewCard" draggable="true" data-id="{{id}}">
    <div class="main">
      <div class="label" >
        {% if priority == 1 %}   
          <div class="div-wrapper" style="background-color: rgba(0, 135, 7, 0.20);"><div class="text-wrapper" style="color: #008707;">Baixa Prioridade</div></div>
        {% endif %}
        {% if priority == 2 %}
        <div class="div-wrapper" style="background-color: rgba(255, 192, 57, 0.20);"><div class="text-wrapper" style="color: #CF8E00;">Média Prioridade</div></div>
        {% endif %}
        {% if priority == 3 %}
        <div class="div-wrapper" style="background-color:rgba(215, 0, 0, 0.20);"><div class="text-wrapper" style="color: #D70000;">Alta Prioridade</div></div>
        {% endif %}
        

        {% if area %}
          {% for a in area %}
            <div class="div-wrapper" style="background-color:rgba(156, 156, 156, 0.63); color: #1e1e1e;"><div>{{a}}</div></div>
          {% endfor %}
        {% endif %}
        <!-- <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="13" height="3" viewBox="0 0 13 3" fill="none" style="width: 20px; height: 20px; flex-shrink: 0;">
            <path d="M10 1.25C10 0.918479 10.1317 0.600537 10.3661 0.366117C10.6005 0.131696 10.9185 0 11.25 0C11.5815 0 11.8995 0.131696 12.1339 0.366117C12.3683 0.600537 12.5 0.918479 12.5 1.25C12.5 1.58152 12.3683 1.89946 12.1339 2.13388C11.8995 2.3683 11.5815 2.5 11.25 2.5C10.9185 2.5 10.6005 2.3683 10.3661 2.13388C10.1317 1.89946 10 1.58152 10 1.25ZM5 1.25C5 0.918479 5.1317 0.600537 5.36612 0.366117C5.60054 0.131696 5.91848 0 6.25 0C6.58152 0 6.89946 0.131696 7.13388 0.366117C7.3683 0.600537 7.5 0.918479 7.5 1.25C7.5 1.58152 7.3683 1.89946 7.13388 2.13388C6.89946 2.3683 6.58152 2.5 6.25 2.5C5.91848 2.5 5.60054 2.3683 5.36612 2.13388C5.1317 1.89946 5 1.58152 5 1.25ZM0 1.25C0 0.918479 0.131696 0.600537 0.366117 0.366117C0.600537 0.131696 0.918479 0 1.25 0C1.58152 0 1.89946 0.131696 2.13388 0.366117C2.3683 0.600537 2.5 0.918479 2.5 1.25C2.5 1.58152 2.3683 1.89946 2.13388 2.13388C1.89946 2.3683 1.58152 2.5 1.25 2.5C0.918479 2.5 0.600537 2.3683 0.366117 2.13388C0.131696 1.89946 0 1.58152 0 1.25Z" fill="#717171"/>
          </svg>
        </div> -->
    
      </div>
      <div class="card-title">
        <p class="div">{{title}}</p>
        <p class="p">
          {{description}}     
        </p>
      </div>
      <div class="due-date">
      {% if prazo != "HOJE" %} 
      <svg xmlns="http://www.w3.org/2000/svg" width="9" height="10" viewBox="0 0 9 10" fill="none">
        <path d="M8.37141 0.920397V6.3604C8.37157 6.43164 8.35143 6.50145 8.31336 6.56167C8.27528 6.62188 8.22084 6.67 8.15641 6.7004C7.43053 7.04941 6.64112 7.24676 5.83641 7.2804C5.16735 7.29497 4.51322 7.08163 3.98141 6.6754C3.57922 6.3477 3.07517 6.17084 2.55641 6.1754C1.93321 6.13759 1.31095 6.26342 0.751408 6.5404V9.6054C0.751408 9.70485 0.711899 9.80024 0.641573 9.87056C0.571247 9.94089 0.475864 9.9804 0.376408 9.9804C0.276952 9.9804 0.181569 9.94089 0.111243 9.87056C0.0409171 9.80024 0.00140823 9.70485 0.00140823 9.6054V0.920397C-0.000469411 0.895432 -0.000469411 0.870361 0.00140823 0.845397C0.0210838 0.750108 0.0765612 0.665997 0.156408 0.610397C0.346408 0.450397 1.02141 0.000396558 2.54641 0.000396558C3.21113 -0.0105279 3.85986 0.204542 4.38641 0.610397C4.7888 0.937723 5.29271 1.11453 5.81141 1.1104C6.50496 1.08023 7.18526 0.910157 7.81141 0.610397C7.86856 0.583486 7.93165 0.571656 7.99466 0.576032C8.05768 0.580408 8.11853 0.600845 8.17141 0.635397C8.22585 0.662484 8.27265 0.702741 8.30758 0.752512C8.34251 0.802284 8.36445 0.859992 8.37141 0.920397Z" fill="#0075F6"/>
      </svg>
      <div class='text-wrapper-2'>{{prazo}} </div>
      {% endif %}
      {% if prazo == "HOJE" %}  
      <svg xmlns="http://www.w3.org/2000/svg" width="9" height="10" viewBox="0 0 9 10" fill="none">
        <path d="M8.37141 0.920397V6.3604C8.37157 6.43164 8.35143 6.50145 8.31336 6.56167C8.27528 6.62188 8.22084 6.67 8.15641 6.7004C7.43053 7.04941 6.64112 7.24676 5.83641 7.2804C5.16735 7.29497 4.51322 7.08163 3.98141 6.6754C3.57922 6.3477 3.07517 6.17084 2.55641 6.1754C1.93321 6.13759 1.31095 6.26342 0.751408 6.5404V9.6054C0.751408 9.70485 0.711899 9.80024 0.641573 9.87056C0.571247 9.94089 0.475864 9.9804 0.376408 9.9804C0.276952 9.9804 0.181569 9.94089 0.111243 9.87056C0.0409171 9.80024 0.00140823 9.70485 0.00140823 9.6054V0.920397C-0.000469411 0.895432 -0.000469411 0.870361 0.00140823 0.845397C0.0210838 0.750108 0.0765612 0.665997 0.156408 0.610397C0.346408 0.450397 1.02141 0.000396558 2.54641 0.000396558C3.21113 -0.0105279 3.85986 0.204542 4.38641 0.610397C4.7888 0.937723 5.29271 1.11453 5.81141 1.1104C6.50496 1.08023 7.18526 0.910157 7.81141 0.610397C7.86856 0.583486 7.93165 0.571656 7.99466 0.576032C8.05768 0.580408 8.11853 0.600845 8.17141 0.635397C8.22585 0.662484 8.27265 0.702741 8.30758 0.752512C8.34251 0.802284 8.36445 0.859992 8.37141 0.920397Z" fill="#D70000"/>
      </svg>
      <div class='text-wrapper-2' style="color: #D70000;">{{prazo}} </div>
      {% endif %}
      </div>
  </div>
    <div class="pepople-tasks"> 
      <div class="people-meeting">
        {% for name, photo in pair_responsible_photo %}
            {% if photo %}
                <img title="{{name}}" src="data:image/jpeg;base64,{{ photo }}" alt="Responsável" class="responsible-photo">
            {% else %}
                <img title="{{name}}" src="path/to/default-photo.jpg" alt="Responsável" class="responsible-photo">
            {% endif%}
        {% endfor %}
        {% if responsible_photos|length > 3 %}
            {% with extra_photos=responsible_photos|length|add:"-3" %} {# Subtrai 3 do comprimento #}
                <div class="more-photos">+{{ extra_photos }}</div>
            {% endwith %}
        {% endif %}
      </div>
    <div class="tasks-task">
        <svg xmlns="http://www.w3.org/2000/svg" width="10" height="11" viewBox="0 0 10 11" fill="none">
          <path d="M10 2.57047L4.295 8.28047L2.175 6.16047L2.88 5.45547L4.295 6.87047L9.295 1.87047L10 2.57047ZM8.895 5.09047C8.96 5.37547 9 5.67547 9 5.98047C9 8.19047 7.21 9.98047 5 9.98047C2.79 9.98047 1 8.19047 1 5.98047C1 3.77047 2.79 1.98047 5 1.98047C5.79 1.98047 6.52 2.21047 7.14 2.60547L7.86 1.88547C7.02322 1.29525 6.02399 0.979058 5 0.980473C2.24 0.980473 0 3.22047 0 5.98047C0 8.74047 2.24 10.9805 5 10.9805C7.76 10.9805 10 8.74047 10 5.98047C10 5.38547 9.89 4.81547 9.7 4.28547L8.895 5.09047Z" fill="#717171"/>
        </svg>
        <div class="text-wrapper-4">
          {{item.subtask_completed_count}}/{{item.subtask_total_count}}
        </div>
    </div>
  </div>
  {% include 'partials/_viewCard.html' %}
  {% include 'partials/_editCard.html' %}
</div>
